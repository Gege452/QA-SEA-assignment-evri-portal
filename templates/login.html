{% extends 'base.html' %}
{% block content %}
<h2>EVRi Courier Portal | Login</h2>
<form method="POST">
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="is_admin" name="is_admin" onclick="toggleLoginFields()">
    <label class="form-check-label" for="is_admin">Are you an employee? Courier admins check this box.</label>
  </div>

  <div id="admin_fields" style="display:none">
    <div class="mb-3">
      <label>Email address</label>
      <input type="email" name="email" class="form-control">
    </div>
    <div class="mb-3">
      <label>Password</label>
      <input type="password" name="password" class="form-control">
    </div>
  </div>

  <div id="courier_fields">
    <div class="mb-3">
      <label>Courier ID</label>
      <input type="text" name="cr_id" class="form-control">
    </div>
    <div class="mb-3">
      <label>PIN</label>
      <input type="password" name="pin" class="form-control">
    </div>
  </div>

 <div class="d-flex gap-2 mt-3">
  <button type="submit" class="btn btn-primary">Login</button>
  <a href="{{ url_for('register') }}" class="btn btn-secondary">Sign up</a>
</div>

</form>



<script>
function toggleLoginFields() {
  const isAdmin = document.getElementById('is_admin').checked;
  document.getElementById('admin_fields').style.display = isAdmin ? 'block' : 'none';
  document.getElementById('courier_fields').style.display = isAdmin ? 'none' : 'block';
}
</script>
{% endblock %}